<!DOCTYPE html>
{% load static %}
{% load humanize %}
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù¾Ø±Ø´ÛŒÙ† Ú¯ÛŒÙ…Ø²|Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø±ÛŒ</title>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body>
        <section>
        {% if messages %}
          <div class="messages-container fixed top-6 right-6 z-50 flex flex-col gap-4 max-w-sm">
            {% for message in messages %}
              <div
                class="message rounded-xl px-6 py-4 shadow-lg text-base font-semibold flex items-center gap-4
                       {{ message.tags }}"
                role="alert"
              >
                <span class="message-icon text-lg">
                  {% if 'success' in message.tags %}âœ”{% elif 'error' in message.tags %}âœ–{% elif 'warning' in message.tags %}âš {% else %}â„¹{% endif %}
                </span>
                <span>{{ message }}</span>
              </div>
            {% endfor %}
          </div>
        {% endif %}
        </section>
    <div class="auth-container profile-container">
        <div class="auth-card profile-card">
            <div class="auth-header">
                <h1>Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø±ÛŒ ğŸ‘¤</h1>
                <p>Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ùˆ Ø³ÙØ§Ø±Ø´Ø§Øª Ø´Ù…Ø§</p>
            </div>

            <!-- User Details Section -->
            <div class="profile-section">
                <h2 class="section-title">Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø®ØµÛŒ</h2>
                <div class="profile-details">
                    <div class="profile-detail-item">
                        <div class="profile-detail-icon">ğŸ†”</div>
                        <div class="profile-detail-content">
                            <span class="profile-detail-label">Ø´Ù†Ø§Ø³Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ:</span>
                            <span class="profile-detail-value" id="userId">USER-{{ user.id }}</span>
                        </div>
                    </div>

                    <div class="profile-detail-item">
                        <div class="profile-detail-icon">ğŸ‘¤</div>
                        <div class="profile-detail-content">
                            <span class="profile-detail-label">Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ:</span>
                            <span class="profile-detail-value" id="userName">{{ user.full_name }}</span>
                        </div>
                    </div>

                    <div class="profile-detail-item">
                        <div class="profile-detail-icon">ğŸ“±</div>
                        <div class="profile-detail-content">
                            <span class="profile-detail-label">Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†:</span>
                            <span class="profile-detail-value" id="userPhone">{{ user.phone }}</span>
                        </div>
                    </div>

                    <div class="profile-detail-item">
                        <div class="profile-detail-icon">ğŸ“…</div>
                        <div class="profile-detail-content">
                            <span class="profile-detail-label">ØªØ§Ø±ÛŒØ® Ø¹Ø¶ÙˆÛŒØª:</span>
                            <span class="profile-detail-value" id="userJoinDate">{{ user.created_at }}</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Orders Section -->
            <div class="profile-section">
                <h2 class="section-title">Ø³ÙØ§Ø±Ø´Ø§Øª Ù…Ù†</h2>
                {% if orders %}
                <div class="orders-list" id="ordersList">
                    <!-- Order items will be dynamically loaded here -->
                    {% for order in orders %}
                    <a href="{% url 'order-detail' order.id %}" class="order-item">
                        <div class="order-item-info">
                            <div class="order-item-header">
                                <span class="order-item-id">#ORD-{{ order.id }}</span>
                                <span class="order-item-date">{{ order.created_at }}</span>
                            </div>
                            <div class="order-item-amount">
                                <span class="order-item-label">Ù…Ø¨Ù„Øº Ú©Ù„:</span>
                                <span class="order-item-value">{{ order.final_price }} ØªÙˆÙ…Ø§Ù†</span>
                            </div>
                        </div>
                        <div class="order-item-arrow">â†’</div>
                    </a>
                    {% endfor %}
                </div>
                {% else %}
                <div class="no-orders" style="display: none;">
                    <div class="no-orders-icon">ğŸ“¦</div>
                    <p>Ø´Ù…Ø§ Ù‡Ù†ÙˆØ² Ø³ÙØ§Ø±Ø´ÛŒ Ø«Ø¨Øª Ù†Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯</p>
                </div>
                {% endif %}
            </div>

            <!-- Profile Actions -->
<div class="profile-actions">
    <button type="button" class="btn btn-secondary" onclick="window.location.href='{% url 'logout' %}'">
        <span>Ø®Ø±ÙˆØ¬ Ø§Ø² Ø­Ø³Ø§Ø¨</span>
    </button>
</div>

<div class="profile-actions">
    <a href="{% url 'home' %}" class="btn btn-primary w-full text-white">
        <span>Ø¨Ø§Ø²Ú¯Ø´Øª</span>
    </a>
</div>

        </div>

        <div class="auth-decoration">
            <div class="decoration-circle circle-1"></div>
            <div class="decoration-circle circle-2"></div>
            <div class="decoration-circle circle-3"></div>
        </div>
    </div>

    <div class="messages-container" id="messagesContainer"></div>

    <button class="theme-toggle" id="themeToggle" onclick="toggleTheme()">
        <span class="theme-icon">ğŸŒ™</span>
    </button>

    <script src="{% static 'js/script.js' %}"></script>
</body>
</html>

